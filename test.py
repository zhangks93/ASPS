import influent,reactor,clarifier,constant

Influent=influent('influent',0,'data/bsm1LT.xlsx')
A=bioreactor('Reactor1',0,1000)
B=bioreactor('Reactor2',0,1000)
C=bioreactor('Reactor3',0,1333)
D=bioreactor('Reactor4',0,1333)
E=bioreactor('Reactor5',0,1333)
Clarifier=clarifier('Clarifier',0,1000,7000,12)
A.add_upstream(Influent,'Main')
B.add_upstream(A,'Main')
C.add_upstream(B,'Main')
D.add_upstream(C,'Main')
E.add_upstream(D,'Main')
Clarifier.add_upstream(E,'Main')
for t in range(20):
    Influent.update_inflow()
    Influent.update_outflow_main()
    A.update_inflow1(Influent)
    A.update_outflow_main()
    B.update_inflow1(A)
    B.update_outflow_main()
    C.update_inflow1(B)
    C.update_outflow_main()
    D.update_inflow1(C)
    D.update_outflow_main()
    E.update_inflow1(D)
    E.update_outflow_main()
    A.mix()
    B.mix()
    C.mix()
    D.mix()
    E.mix()
    A.biodegrade()
    B.biodegrade()
    C.biodegrade()
    D.biodegrade()
    E.biodegrade()
    Clarifier.update_inflow1(E)
    Clarifier.update_outflow_main()
    Influent.time=Influent.time+1
    print(Clarifier.get_outflow_main())
